{"version":3,"file":"phpspa.mjs","sources":["../../lib/utils/baseConverter.ts","../../lib/core/RuntimeManager.ts","../../node_modules/.pnpm/morphdom@2.7.7/node_modules/morphdom/dist/morphdom-esm.js","../../lib/core/AppManager.ts","../../lib/utils/setupLinkInterception.ts","../../lib/helpers/bootstrap.ts","../../lib/index.ts"],"sourcesContent":["/**\r\n * UTF-8 safe base64 encoding function\r\n * Handles Unicode characters that btoa cannot process\r\n */\r\nfunction utf8ToBase64(str: string): string {\r\n   try {\r\n      // First try the native btoa for performance\r\n      return btoa(str);\r\n   } catch (e) {\r\n      // If btoa fails (due to non-Latin1 characters), use UTF-8 safe encoding\r\n      try {\r\n         // Modern replacement for unescape(encodeURIComponent(str))\r\n         const utf8Bytes = new TextEncoder().encode(str);\r\n         const binaryString = Array.from(utf8Bytes, byte => String.fromCharCode(byte)).join('');\r\n         return btoa(binaryString);\r\n      } catch (fallbackError) {\r\n         // Final fallback: encode each character individually\r\n         return btoa(\r\n            str.split('').map(function (c) {\r\n               return String.fromCharCode(c.charCodeAt(0) & 0xff);\r\n            }).join('')\r\n         );\r\n      }\r\n   }\r\n}\r\n\r\n/**\r\n * UTF-8 safe base64 decoding function\r\n * Handles Unicode characters that atob cannot process\r\n */\r\nfunction base64ToUtf8(str: string): string {\r\n   try {\r\n      // Try modern UTF-8 safe decoding first\r\n      const binaryString = atob(str);\r\n      const bytes = new Uint8Array(binaryString.length);\r\n      for (let i = 0; i < binaryString.length; i++) {\r\n         bytes[i] = binaryString.charCodeAt(i);\r\n      }\r\n      return new TextDecoder().decode(bytes);\r\n   } catch (e) {\r\n      // Fallback to regular atob\r\n      return atob(str);\r\n   }\r\n}\r\n\r\nexport { utf8ToBase64, base64ToUtf8 }","import { CurrentRoutesObject, EffectType, EventObject, EventPayload } from \"../types/RuntimeInterfaces\";\r\nimport { StateObject } from \"../types/StateObjectTypes\";\r\nimport { utf8ToBase64 } from \"../utils/baseConverter\";\r\n\r\n\r\n/**\r\n * Runtime Manager for PhpSPA\r\n *\r\n * Handles script execution, style injection, event management, and browser history\r\n * for the PhpSPA framework. Uses an obscure class name to avoid conflicts.\r\n */\r\nexport default class RuntimeManager {\r\n   /**\r\n    * Tracks executed scripts to prevent duplicates\r\n    */\r\n   private static executedScripts: Set<string> = new Set();\r\n\r\n   /**\r\n    * Tracks executed styles to prevent duplicates\r\n    */\r\n   private static executedStyles: Set<string> = new Set();\r\n\r\n   /**\r\n    * A static cache object that stores processed script content to avoid redundant processing.\r\n    * Used to improve performance by caching scripts that have already been processed or compiled.\r\n    */\r\n   private static ScriptsCachedContent: Record<string, string> = {};\r\n\r\n   /**\r\n    * This contains all routes for the current page\r\n    */\r\n   public static currentRoutes: CurrentRoutesObject = {};\r\n\r\n   public static events: EventObject = {\r\n      beforeload: [],\r\n      load: [],\r\n   };\r\n\r\n   /**\r\n    * Caches the last payload for each emitted event so late listeners can replay it\r\n    */\r\n   private static lastEventPayload: Partial<Record<keyof EventObject, EventPayload>> = {};\r\n\r\n   private static effects: Set<EffectType> = new Set();\r\n\r\n   /**\r\n    * Registers a side effect to be executed when state changes\r\n    * similar to React's useEffect but using state keys strings as dependencies\r\n    *\r\n    * @param {Function} callback - The effect callback\r\n    * @param {Array<string>} dependencies - Array of state keys to listen for\r\n    */\r\n   public static registerEffect(callback: () => void | (() => void), dependencies: string[]|null = null): void {\r\n      // --- Run immediately (mount) ---\r\n      const cleanup = callback();\r\n\r\n      const effect: EffectType = {\r\n         callback,\r\n         dependencies,\r\n         cleanup: typeof cleanup === 'function' ? cleanup : null\r\n      };\r\n\r\n      RuntimeManager.effects.add(effect);\r\n   }\r\n\r\n   /**\r\n    * Triggers effects that depend on the specific state key\r\n    *\r\n    * @param key - The state key that changed\r\n    * @param value - The new value (optional)\r\n    */\r\n   public static triggerEffects(key: string, value: any): void {\r\n      RuntimeManager.effects.forEach(effect => {\r\n         if (effect.dependencies === null || effect.dependencies.includes(key)) {\r\n            // --- Run cleanup if exists ---\r\n            if (effect.cleanup) effect.cleanup();\r\n\r\n            // --- Re-run callback ---\r\n            const cleanup = effect.callback();\r\n            effect.cleanup = typeof cleanup === 'function' ? cleanup : null;\r\n         }\r\n      });\r\n   }\r\n\r\n   /**\r\n    * Clears all registered effects and runs their cleanup functions\r\n    */\r\n   public static clearEffects(): void {\r\n      RuntimeManager.effects.forEach(effect => {\r\n         if (effect.cleanup) effect.cleanup();\r\n      });\r\n      RuntimeManager.effects.clear();\r\n   }\r\n\r\n   public static runAll(): void {\r\n      for (const targetID in RuntimeManager.currentRoutes) {\r\n         const element = document.getElementById(targetID);\r\n\r\n         if (element) {\r\n            this.runInlineScripts(element);\r\n            this.runPhpSpaScripts(element);\r\n            this.runInlineStyles(element);\r\n         }\r\n      }\r\n   }\r\n\r\n   /**\r\n    * Processes and executes inline scripts within a container\r\n    * Creates isolated scopes using IIFE to prevent variable conflicts\r\n    */\r\n   private static runInlineScripts(container: HTMLElement) {\r\n      const scripts = container.querySelectorAll(\"script\");\r\n      const nonce = document.documentElement.getAttribute('x-phpspa');\r\n\r\n      scripts.forEach((script: HTMLScriptElement) => {\r\n         // --- Use base64 encoded content as unique identifier ---\r\n         const contentHash = utf8ToBase64(script.textContent.trim());\r\n\r\n         // --- Skip if this script has already been executed ---\r\n         if (!this.executedScripts.has(contentHash) && script.textContent.trim() !== \"\") {\r\n            this.executedScripts.add(contentHash);\r\n\r\n            // --- Create new script element ---\r\n            const newScript = document.createElement(\"script\");\r\n\r\n            newScript.nonce = nonce ?? undefined;\r\n\r\n            // --- Copy all attributes except the data-type identifier ---\r\n            for (const attribute of Array.from(script.attributes)) {\r\n               newScript.setAttribute(attribute.name, attribute.value);\r\n            }\r\n\r\n            // --- Check if script should run in async context ---\r\n            const isAsync = script.hasAttribute(\"async\");\r\n\r\n            // --- Wrap in IIFE to create isolated scope ---\r\n            if (isAsync) {\r\n               newScript.textContent = `(async function() {\\n${script.textContent}\\n})();`;\r\n            } else {\r\n               newScript.textContent = `(function() {\\n${script.textContent}\\n})();`;\r\n            }\r\n\r\n            // --- Execute and immediately remove from DOM ---\r\n            document.head.appendChild(newScript).remove();\r\n         }\r\n      });\r\n   }\r\n\r\n\r\n   static runPhpSpaScripts(container: HTMLElement) {\r\n      const scripts = container.querySelectorAll(\"phpspa-script, script[data-type=\\\"phpspa/script\\\"]\") as NodeListOf<HTMLScriptElement>;\r\n\r\n      scripts.forEach(async (script: HTMLScriptElement): Promise<void> => {\r\n         const scriptUrl = script.getAttribute('src') ?? '';\r\n         const scriptType = script.getAttribute('type') ?? '';\r\n         const nonce = document.documentElement.getAttribute('x-phpspa');\r\n\r\n         // --- Skip if this script has already been executed ---\r\n         if (!this.executedScripts.has(scriptUrl)) {\r\n            this.executedScripts.add(scriptUrl);\r\n\r\n            // --- Check cache first ---\r\n            if (this.ScriptsCachedContent[scriptUrl]) {\r\n               const newScript = document.createElement(\"script\");\r\n               newScript.textContent = this.ScriptsCachedContent[scriptUrl];\r\n               newScript.nonce = nonce ?? undefined;\r\n               newScript.type = scriptType;\r\n\r\n               // --- Execute and immediately remove from DOM ---\r\n               document.head.appendChild(newScript).remove();\r\n               return;\r\n            }\r\n\r\n            const response = await fetch(scriptUrl, {\r\n               headers: {\r\n                  \"X-Requested-With\": \"PHPSPA_REQUEST_SCRIPT\",\r\n               },\r\n            });\r\n\r\n            if (response.ok) {\r\n               const scriptContent = await response.text();\r\n\r\n               // --- Create new script element ---\r\n               const newScript = document.createElement(\"script\");\r\n               newScript.textContent = scriptContent;\r\n               newScript.nonce = nonce ?? undefined;\r\n               newScript.type = scriptType;\r\n\r\n               // --- Execute and immediately remove from DOM ---\r\n               document.head.appendChild(newScript).remove();\r\n\r\n               // --- Cache the fetched script content ---\r\n               this.ScriptsCachedContent[scriptUrl] = scriptContent;\r\n            } else {\r\n               console.error(`Failed to load script from ${scriptUrl}: ${response.statusText}`);\r\n            }\r\n         }\r\n      });\r\n   }\r\n\r\n\r\n   /**\r\n    * Clears all executed scripts from the runtime manager.\r\n    * This method removes all entries from the executedScripts collection,\r\n    * effectively resetting the tracking of previously executed scripts.\r\n    *\r\n    * @static\r\n    * @memberof RuntimeManager\r\n    */\r\n   public static clearExecutedScripts() {\r\n      RuntimeManager.executedScripts.clear();\r\n   }\r\n\r\n   /**\r\n    * Processes and injects inline styles within a container\r\n    * Prevents duplicate style injection by tracking content hashes\r\n    */\r\n   private static runInlineStyles(container: HTMLElement) {\r\n      const styles = container.querySelectorAll(\"style\");\r\n      const nonce = document.documentElement.getAttribute('x-phpspa');\r\n\r\n      styles.forEach((style: HTMLStyleElement) => {\r\n         // --- Use base64 encoded content as unique identifier ---\r\n         const contentHash = utf8ToBase64(style.textContent.trim());\r\n\r\n         // --- Skip if this style has already been injected ---\r\n         if (!this.executedStyles.has(contentHash) && style.textContent.trim() !== \"\") {\r\n            this.executedStyles.add(contentHash);\r\n\r\n            // --- Create new style element ---\r\n            const newStyle = document.createElement(\"style\");\r\n            newStyle.nonce = nonce ?? undefined;\r\n\r\n            // --- Copy all attributes except the data-type identifier ---\r\n            for (const attribute of Array.from(style.attributes)) {\r\n               newStyle.setAttribute(attribute.name, attribute.value);\r\n            }\r\n\r\n            // --- Copy style content and inject into head ---\r\n            newStyle.textContent = style.textContent;\r\n            document.head.appendChild(newStyle).remove();\r\n         }\r\n      });\r\n   }\r\n\r\n   /**\r\n    * Emits a custom event to all registered listeners\r\n    * Used for lifecycle events like 'beforeload' and 'load'\r\n    *\r\n    * @param eventName - The name of the event to emit\r\n    * @param payload - The data to pass to event listeners\r\n    */\r\n   static emit(eventName: keyof EventObject, payload: EventPayload) {\r\n      const callbacks = this.events[eventName] || [];\r\n      this.lastEventPayload[eventName] = payload;\r\n\r\n      // --- Execute all registered callbacks for this event ---\r\n      for (const callback of callbacks) {\r\n         if (typeof callback === \"function\") {\r\n            try {\r\n               callback(payload);\r\n            } catch (error) {\r\n               // --- Log callback errors but don't break the chain ---\r\n               console.error(`Error in ${eventName} event callback:`, error);\r\n            }\r\n         }\r\n      }\r\n   }\r\n\r\n   /**\r\n    * Returns the last cached payload for an event, if available\r\n    */\r\n   public static getLastEventPayload(eventName: keyof EventObject): EventPayload | undefined {\r\n      return this.lastEventPayload[eventName];\r\n   }\r\n\r\n   /**\r\n    * Safely pushes a new state to browser history\r\n    * Wraps in try-catch to handle potential browser restrictions\r\n    */\r\n   public static pushState(data: StateObject, unused: string, url?: string | URL | null) {\r\n      try {\r\n         history.pushState(data, unused, url);\r\n      } catch (error) {\r\n         // --- Silently handle history API restrictions ---\r\n         console.warn(\"Failed to push history state:\", error instanceof Error ? error.message : error);\r\n      }\r\n   }\r\n\r\n   /**\r\n    * Safely replaces current browser history state\r\n    * Wraps in try-catch to handle potential browser restrictions\r\n    */\r\n   public static replaceState(data: StateObject, unused: string, url?: string | URL | null) {\r\n      try {\r\n         history.replaceState(data, unused, url);\r\n      } catch (error) {\r\n         // --- Silently handle history API restrictions ---\r\n         console.warn(\"Failed to replace history state:\", error instanceof Error ? error.message : error);\r\n      }\r\n   }\r\n}\r\n","var DOCUMENT_FRAGMENT_NODE = 11;\n\nfunction morphAttrs(fromNode, toNode) {\n    var toNodeAttrs = toNode.attributes;\n    var attr;\n    var attrName;\n    var attrNamespaceURI;\n    var attrValue;\n    var fromValue;\n\n    // document-fragments dont have attributes so lets not do anything\n    if (toNode.nodeType === DOCUMENT_FRAGMENT_NODE || fromNode.nodeType === DOCUMENT_FRAGMENT_NODE) {\n      return;\n    }\n\n    // update attributes on original DOM element\n    for (var i = toNodeAttrs.length - 1; i >= 0; i--) {\n        attr = toNodeAttrs[i];\n        attrName = attr.name;\n        attrNamespaceURI = attr.namespaceURI;\n        attrValue = attr.value;\n\n        if (attrNamespaceURI) {\n            attrName = attr.localName || attrName;\n            fromValue = fromNode.getAttributeNS(attrNamespaceURI, attrName);\n\n            if (fromValue !== attrValue) {\n                if (attr.prefix === 'xmlns'){\n                    attrName = attr.name; // It's not allowed to set an attribute with the XMLNS namespace without specifying the `xmlns` prefix\n                }\n                fromNode.setAttributeNS(attrNamespaceURI, attrName, attrValue);\n            }\n        } else {\n            fromValue = fromNode.getAttribute(attrName);\n\n            if (fromValue !== attrValue) {\n                fromNode.setAttribute(attrName, attrValue);\n            }\n        }\n    }\n\n    // Remove any extra attributes found on the original DOM element that\n    // weren't found on the target element.\n    var fromNodeAttrs = fromNode.attributes;\n\n    for (var d = fromNodeAttrs.length - 1; d >= 0; d--) {\n        attr = fromNodeAttrs[d];\n        attrName = attr.name;\n        attrNamespaceURI = attr.namespaceURI;\n\n        if (attrNamespaceURI) {\n            attrName = attr.localName || attrName;\n\n            if (!toNode.hasAttributeNS(attrNamespaceURI, attrName)) {\n                fromNode.removeAttributeNS(attrNamespaceURI, attrName);\n            }\n        } else {\n            if (!toNode.hasAttribute(attrName)) {\n                fromNode.removeAttribute(attrName);\n            }\n        }\n    }\n}\n\nvar range; // Create a range object for efficently rendering strings to elements.\nvar NS_XHTML = 'http://www.w3.org/1999/xhtml';\n\nvar doc = typeof document === 'undefined' ? undefined : document;\nvar HAS_TEMPLATE_SUPPORT = !!doc && 'content' in doc.createElement('template');\nvar HAS_RANGE_SUPPORT = !!doc && doc.createRange && 'createContextualFragment' in doc.createRange();\n\nfunction createFragmentFromTemplate(str) {\n    var template = doc.createElement('template');\n    template.innerHTML = str;\n    return template.content.childNodes[0];\n}\n\nfunction createFragmentFromRange(str) {\n    if (!range) {\n        range = doc.createRange();\n        range.selectNode(doc.body);\n    }\n\n    var fragment = range.createContextualFragment(str);\n    return fragment.childNodes[0];\n}\n\nfunction createFragmentFromWrap(str) {\n    var fragment = doc.createElement('body');\n    fragment.innerHTML = str;\n    return fragment.childNodes[0];\n}\n\n/**\n * This is about the same\n * var html = new DOMParser().parseFromString(str, 'text/html');\n * return html.body.firstChild;\n *\n * @method toElement\n * @param {String} str\n */\nfunction toElement(str) {\n    str = str.trim();\n    if (HAS_TEMPLATE_SUPPORT) {\n      // avoid restrictions on content for things like `<tr><th>Hi</th></tr>` which\n      // createContextualFragment doesn't support\n      // <template> support not available in IE\n      return createFragmentFromTemplate(str);\n    } else if (HAS_RANGE_SUPPORT) {\n      return createFragmentFromRange(str);\n    }\n\n    return createFragmentFromWrap(str);\n}\n\n/**\n * Returns true if two node's names are the same.\n *\n * NOTE: We don't bother checking `namespaceURI` because you will never find two HTML elements with the same\n *       nodeName and different namespace URIs.\n *\n * @param {Element} a\n * @param {Element} b The target element\n * @return {boolean}\n */\nfunction compareNodeNames(fromEl, toEl) {\n    var fromNodeName = fromEl.nodeName;\n    var toNodeName = toEl.nodeName;\n    var fromCodeStart, toCodeStart;\n\n    if (fromNodeName === toNodeName) {\n        return true;\n    }\n\n    fromCodeStart = fromNodeName.charCodeAt(0);\n    toCodeStart = toNodeName.charCodeAt(0);\n\n    // If the target element is a virtual DOM node or SVG node then we may\n    // need to normalize the tag name before comparing. Normal HTML elements that are\n    // in the \"http://www.w3.org/1999/xhtml\"\n    // are converted to upper case\n    if (fromCodeStart <= 90 && toCodeStart >= 97) { // from is upper and to is lower\n        return fromNodeName === toNodeName.toUpperCase();\n    } else if (toCodeStart <= 90 && fromCodeStart >= 97) { // to is upper and from is lower\n        return toNodeName === fromNodeName.toUpperCase();\n    } else {\n        return false;\n    }\n}\n\n/**\n * Create an element, optionally with a known namespace URI.\n *\n * @param {string} name the element name, e.g. 'div' or 'svg'\n * @param {string} [namespaceURI] the element's namespace URI, i.e. the value of\n * its `xmlns` attribute or its inferred namespace.\n *\n * @return {Element}\n */\nfunction createElementNS(name, namespaceURI) {\n    return !namespaceURI || namespaceURI === NS_XHTML ?\n        doc.createElement(name) :\n        doc.createElementNS(namespaceURI, name);\n}\n\n/**\n * Copies the children of one DOM element to another DOM element\n */\nfunction moveChildren(fromEl, toEl) {\n    var curChild = fromEl.firstChild;\n    while (curChild) {\n        var nextChild = curChild.nextSibling;\n        toEl.appendChild(curChild);\n        curChild = nextChild;\n    }\n    return toEl;\n}\n\nfunction syncBooleanAttrProp(fromEl, toEl, name) {\n    if (fromEl[name] !== toEl[name]) {\n        fromEl[name] = toEl[name];\n        if (fromEl[name]) {\n            fromEl.setAttribute(name, '');\n        } else {\n            fromEl.removeAttribute(name);\n        }\n    }\n}\n\nvar specialElHandlers = {\n    OPTION: function(fromEl, toEl) {\n        var parentNode = fromEl.parentNode;\n        if (parentNode) {\n            var parentName = parentNode.nodeName.toUpperCase();\n            if (parentName === 'OPTGROUP') {\n                parentNode = parentNode.parentNode;\n                parentName = parentNode && parentNode.nodeName.toUpperCase();\n            }\n            if (parentName === 'SELECT' && !parentNode.hasAttribute('multiple')) {\n                if (fromEl.hasAttribute('selected') && !toEl.selected) {\n                    // Workaround for MS Edge bug where the 'selected' attribute can only be\n                    // removed if set to a non-empty value:\n                    // https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/12087679/\n                    fromEl.setAttribute('selected', 'selected');\n                    fromEl.removeAttribute('selected');\n                }\n                // We have to reset select element's selectedIndex to -1, otherwise setting\n                // fromEl.selected using the syncBooleanAttrProp below has no effect.\n                // The correct selectedIndex will be set in the SELECT special handler below.\n                parentNode.selectedIndex = -1;\n            }\n        }\n        syncBooleanAttrProp(fromEl, toEl, 'selected');\n    },\n    /**\n     * The \"value\" attribute is special for the <input> element since it sets\n     * the initial value. Changing the \"value\" attribute without changing the\n     * \"value\" property will have no effect since it is only used to the set the\n     * initial value.  Similar for the \"checked\" attribute, and \"disabled\".\n     */\n    INPUT: function(fromEl, toEl) {\n        syncBooleanAttrProp(fromEl, toEl, 'checked');\n        syncBooleanAttrProp(fromEl, toEl, 'disabled');\n\n        if (fromEl.value !== toEl.value) {\n            fromEl.value = toEl.value;\n        }\n\n        if (!toEl.hasAttribute('value')) {\n            fromEl.removeAttribute('value');\n        }\n    },\n\n    TEXTAREA: function(fromEl, toEl) {\n        var newValue = toEl.value;\n        if (fromEl.value !== newValue) {\n            fromEl.value = newValue;\n        }\n\n        var firstChild = fromEl.firstChild;\n        if (firstChild) {\n            // Needed for IE. Apparently IE sets the placeholder as the\n            // node value and vise versa. This ignores an empty update.\n            var oldValue = firstChild.nodeValue;\n\n            if (oldValue == newValue || (!newValue && oldValue == fromEl.placeholder)) {\n                return;\n            }\n\n            firstChild.nodeValue = newValue;\n        }\n    },\n    SELECT: function(fromEl, toEl) {\n        if (!toEl.hasAttribute('multiple')) {\n            var selectedIndex = -1;\n            var i = 0;\n            // We have to loop through children of fromEl, not toEl since nodes can be moved\n            // from toEl to fromEl directly when morphing.\n            // At the time this special handler is invoked, all children have already been morphed\n            // and appended to / removed from fromEl, so using fromEl here is safe and correct.\n            var curChild = fromEl.firstChild;\n            var optgroup;\n            var nodeName;\n            while(curChild) {\n                nodeName = curChild.nodeName && curChild.nodeName.toUpperCase();\n                if (nodeName === 'OPTGROUP') {\n                    optgroup = curChild;\n                    curChild = optgroup.firstChild;\n                    // handle empty optgroups\n                    if (!curChild) {\n                        curChild = optgroup.nextSibling;\n                        optgroup = null;\n                    }\n                } else {\n                    if (nodeName === 'OPTION') {\n                        if (curChild.hasAttribute('selected')) {\n                            selectedIndex = i;\n                            break;\n                        }\n                        i++;\n                    }\n                    curChild = curChild.nextSibling;\n                    if (!curChild && optgroup) {\n                        curChild = optgroup.nextSibling;\n                        optgroup = null;\n                    }\n                }\n            }\n\n            fromEl.selectedIndex = selectedIndex;\n        }\n    }\n};\n\nvar ELEMENT_NODE = 1;\nvar DOCUMENT_FRAGMENT_NODE$1 = 11;\nvar TEXT_NODE = 3;\nvar COMMENT_NODE = 8;\n\nfunction noop() {}\n\nfunction defaultGetNodeKey(node) {\n  if (node) {\n    return (node.getAttribute && node.getAttribute('id')) || node.id;\n  }\n}\n\nfunction morphdomFactory(morphAttrs) {\n\n  return function morphdom(fromNode, toNode, options) {\n    if (!options) {\n      options = {};\n    }\n\n    if (typeof toNode === 'string') {\n      if (fromNode.nodeName === '#document' || fromNode.nodeName === 'HTML' || fromNode.nodeName === 'BODY') {\n        var toNodeHtml = toNode;\n        toNode = doc.createElement('html');\n        toNode.innerHTML = toNodeHtml;\n      } else {\n        toNode = toElement(toNode);\n      }\n    } else if (toNode.nodeType === DOCUMENT_FRAGMENT_NODE$1) {\n      toNode = toNode.firstElementChild;\n    }\n\n    var getNodeKey = options.getNodeKey || defaultGetNodeKey;\n    var onBeforeNodeAdded = options.onBeforeNodeAdded || noop;\n    var onNodeAdded = options.onNodeAdded || noop;\n    var onBeforeElUpdated = options.onBeforeElUpdated || noop;\n    var onElUpdated = options.onElUpdated || noop;\n    var onBeforeNodeDiscarded = options.onBeforeNodeDiscarded || noop;\n    var onNodeDiscarded = options.onNodeDiscarded || noop;\n    var onBeforeElChildrenUpdated = options.onBeforeElChildrenUpdated || noop;\n    var skipFromChildren = options.skipFromChildren || noop;\n    var addChild = options.addChild || function(parent, child){ return parent.appendChild(child); };\n    var childrenOnly = options.childrenOnly === true;\n\n    // This object is used as a lookup to quickly find all keyed elements in the original DOM tree.\n    var fromNodesLookup = Object.create(null);\n    var keyedRemovalList = [];\n\n    function addKeyedRemoval(key) {\n      keyedRemovalList.push(key);\n    }\n\n    function walkDiscardedChildNodes(node, skipKeyedNodes) {\n      if (node.nodeType === ELEMENT_NODE) {\n        var curChild = node.firstChild;\n        while (curChild) {\n\n          var key = undefined;\n\n          if (skipKeyedNodes && (key = getNodeKey(curChild))) {\n            // If we are skipping keyed nodes then we add the key\n            // to a list so that it can be handled at the very end.\n            addKeyedRemoval(key);\n          } else {\n            // Only report the node as discarded if it is not keyed. We do this because\n            // at the end we loop through all keyed elements that were unmatched\n            // and then discard them in one final pass.\n            onNodeDiscarded(curChild);\n            if (curChild.firstChild) {\n              walkDiscardedChildNodes(curChild, skipKeyedNodes);\n            }\n          }\n\n          curChild = curChild.nextSibling;\n        }\n      }\n    }\n\n    /**\n    * Removes a DOM node out of the original DOM\n    *\n    * @param  {Node} node The node to remove\n    * @param  {Node} parentNode The nodes parent\n    * @param  {Boolean} skipKeyedNodes If true then elements with keys will be skipped and not discarded.\n    * @return {undefined}\n    */\n    function removeNode(node, parentNode, skipKeyedNodes) {\n      if (onBeforeNodeDiscarded(node) === false) {\n        return;\n      }\n\n      if (parentNode) {\n        parentNode.removeChild(node);\n      }\n\n      onNodeDiscarded(node);\n      walkDiscardedChildNodes(node, skipKeyedNodes);\n    }\n\n    // // TreeWalker implementation is no faster, but keeping this around in case this changes in the future\n    // function indexTree(root) {\n    //     var treeWalker = document.createTreeWalker(\n    //         root,\n    //         NodeFilter.SHOW_ELEMENT);\n    //\n    //     var el;\n    //     while((el = treeWalker.nextNode())) {\n    //         var key = getNodeKey(el);\n    //         if (key) {\n    //             fromNodesLookup[key] = el;\n    //         }\n    //     }\n    // }\n\n    // // NodeIterator implementation is no faster, but keeping this around in case this changes in the future\n    //\n    // function indexTree(node) {\n    //     var nodeIterator = document.createNodeIterator(node, NodeFilter.SHOW_ELEMENT);\n    //     var el;\n    //     while((el = nodeIterator.nextNode())) {\n    //         var key = getNodeKey(el);\n    //         if (key) {\n    //             fromNodesLookup[key] = el;\n    //         }\n    //     }\n    // }\n\n    function indexTree(node) {\n      if (node.nodeType === ELEMENT_NODE || node.nodeType === DOCUMENT_FRAGMENT_NODE$1) {\n        var curChild = node.firstChild;\n        while (curChild) {\n          var key = getNodeKey(curChild);\n          if (key) {\n            fromNodesLookup[key] = curChild;\n          }\n\n          // Walk recursively\n          indexTree(curChild);\n\n          curChild = curChild.nextSibling;\n        }\n      }\n    }\n\n    indexTree(fromNode);\n\n    function handleNodeAdded(el) {\n      onNodeAdded(el);\n\n      var curChild = el.firstChild;\n      while (curChild) {\n        var nextSibling = curChild.nextSibling;\n\n        var key = getNodeKey(curChild);\n        if (key) {\n          var unmatchedFromEl = fromNodesLookup[key];\n          // if we find a duplicate #id node in cache, replace `el` with cache value\n          // and morph it to the child node.\n          if (unmatchedFromEl && compareNodeNames(curChild, unmatchedFromEl)) {\n            curChild.parentNode.replaceChild(unmatchedFromEl, curChild);\n            morphEl(unmatchedFromEl, curChild);\n          } else {\n            handleNodeAdded(curChild);\n          }\n        } else {\n          // recursively call for curChild and it's children to see if we find something in\n          // fromNodesLookup\n          handleNodeAdded(curChild);\n        }\n\n        curChild = nextSibling;\n      }\n    }\n\n    function cleanupFromEl(fromEl, curFromNodeChild, curFromNodeKey) {\n      // We have processed all of the \"to nodes\". If curFromNodeChild is\n      // non-null then we still have some from nodes left over that need\n      // to be removed\n      while (curFromNodeChild) {\n        var fromNextSibling = curFromNodeChild.nextSibling;\n        if ((curFromNodeKey = getNodeKey(curFromNodeChild))) {\n          // Since the node is keyed it might be matched up later so we defer\n          // the actual removal to later\n          addKeyedRemoval(curFromNodeKey);\n        } else {\n          // NOTE: we skip nested keyed nodes from being removed since there is\n          //       still a chance they will be matched up later\n          removeNode(curFromNodeChild, fromEl, true /* skip keyed nodes */);\n        }\n        curFromNodeChild = fromNextSibling;\n      }\n    }\n\n    function morphEl(fromEl, toEl, childrenOnly) {\n      var toElKey = getNodeKey(toEl);\n\n      if (toElKey) {\n        // If an element with an ID is being morphed then it will be in the final\n        // DOM so clear it out of the saved elements collection\n        delete fromNodesLookup[toElKey];\n      }\n\n      if (!childrenOnly) {\n        // optional\n        var beforeUpdateResult = onBeforeElUpdated(fromEl, toEl);\n        if (beforeUpdateResult === false) {\n          return;\n        } else if (beforeUpdateResult instanceof HTMLElement) {\n          fromEl = beforeUpdateResult;\n          // reindex the new fromEl in case it's not in the same\n          // tree as the original fromEl\n          // (Phoenix LiveView sometimes returns a cloned tree,\n          //  but keyed lookups would still point to the original tree)\n          indexTree(fromEl);\n        }\n\n        // update attributes on original DOM element first\n        morphAttrs(fromEl, toEl);\n        // optional\n        onElUpdated(fromEl);\n\n        if (onBeforeElChildrenUpdated(fromEl, toEl) === false) {\n          return;\n        }\n      }\n\n      if (fromEl.nodeName !== 'TEXTAREA') {\n        morphChildren(fromEl, toEl);\n      } else {\n        specialElHandlers.TEXTAREA(fromEl, toEl);\n      }\n    }\n\n    function morphChildren(fromEl, toEl) {\n      var skipFrom = skipFromChildren(fromEl, toEl);\n      var curToNodeChild = toEl.firstChild;\n      var curFromNodeChild = fromEl.firstChild;\n      var curToNodeKey;\n      var curFromNodeKey;\n\n      var fromNextSibling;\n      var toNextSibling;\n      var matchingFromEl;\n\n      // walk the children\n      outer: while (curToNodeChild) {\n        toNextSibling = curToNodeChild.nextSibling;\n        curToNodeKey = getNodeKey(curToNodeChild);\n\n        // walk the fromNode children all the way through\n        while (!skipFrom && curFromNodeChild) {\n          fromNextSibling = curFromNodeChild.nextSibling;\n\n          if (curToNodeChild.isSameNode && curToNodeChild.isSameNode(curFromNodeChild)) {\n            curToNodeChild = toNextSibling;\n            curFromNodeChild = fromNextSibling;\n            continue outer;\n          }\n\n          curFromNodeKey = getNodeKey(curFromNodeChild);\n\n          var curFromNodeType = curFromNodeChild.nodeType;\n\n          // this means if the curFromNodeChild doesnt have a match with the curToNodeChild\n          var isCompatible = undefined;\n\n          if (curFromNodeType === curToNodeChild.nodeType) {\n            if (curFromNodeType === ELEMENT_NODE) {\n              // Both nodes being compared are Element nodes\n\n              if (curToNodeKey) {\n                // The target node has a key so we want to match it up with the correct element\n                // in the original DOM tree\n                if (curToNodeKey !== curFromNodeKey) {\n                  // The current element in the original DOM tree does not have a matching key so\n                  // let's check our lookup to see if there is a matching element in the original\n                  // DOM tree\n                  if ((matchingFromEl = fromNodesLookup[curToNodeKey])) {\n                    if (fromNextSibling === matchingFromEl) {\n                      // Special case for single element removals. To avoid removing the original\n                      // DOM node out of the tree (since that can break CSS transitions, etc.),\n                      // we will instead discard the current node and wait until the next\n                      // iteration to properly match up the keyed target element with its matching\n                      // element in the original tree\n                      isCompatible = false;\n                    } else {\n                      // We found a matching keyed element somewhere in the original DOM tree.\n                      // Let's move the original DOM node into the current position and morph\n                      // it.\n\n                      // NOTE: We use insertBefore instead of replaceChild because we want to go through\n                      // the `removeNode()` function for the node that is being discarded so that\n                      // all lifecycle hooks are correctly invoked\n                      fromEl.insertBefore(matchingFromEl, curFromNodeChild);\n\n                      // fromNextSibling = curFromNodeChild.nextSibling;\n\n                      if (curFromNodeKey) {\n                        // Since the node is keyed it might be matched up later so we defer\n                        // the actual removal to later\n                        addKeyedRemoval(curFromNodeKey);\n                      } else {\n                        // NOTE: we skip nested keyed nodes from being removed since there is\n                        //       still a chance they will be matched up later\n                        removeNode(curFromNodeChild, fromEl, true /* skip keyed nodes */);\n                      }\n\n                      curFromNodeChild = matchingFromEl;\n                      curFromNodeKey = getNodeKey(curFromNodeChild);\n                    }\n                  } else {\n                    // The nodes are not compatible since the \"to\" node has a key and there\n                    // is no matching keyed node in the source tree\n                    isCompatible = false;\n                  }\n                }\n              } else if (curFromNodeKey) {\n                // The original has a key\n                isCompatible = false;\n              }\n\n              isCompatible = isCompatible !== false && compareNodeNames(curFromNodeChild, curToNodeChild);\n              if (isCompatible) {\n                // We found compatible DOM elements so transform\n                // the current \"from\" node to match the current\n                // target DOM node.\n                // MORPH\n                morphEl(curFromNodeChild, curToNodeChild);\n              }\n\n            } else if (curFromNodeType === TEXT_NODE || curFromNodeType == COMMENT_NODE) {\n              // Both nodes being compared are Text or Comment nodes\n              isCompatible = true;\n              // Simply update nodeValue on the original node to\n              // change the text value\n              if (curFromNodeChild.nodeValue !== curToNodeChild.nodeValue) {\n                curFromNodeChild.nodeValue = curToNodeChild.nodeValue;\n              }\n\n            }\n          }\n\n          if (isCompatible) {\n            // Advance both the \"to\" child and the \"from\" child since we found a match\n            // Nothing else to do as we already recursively called morphChildren above\n            curToNodeChild = toNextSibling;\n            curFromNodeChild = fromNextSibling;\n            continue outer;\n          }\n\n          // No compatible match so remove the old node from the DOM and continue trying to find a\n          // match in the original DOM. However, we only do this if the from node is not keyed\n          // since it is possible that a keyed node might match up with a node somewhere else in the\n          // target tree and we don't want to discard it just yet since it still might find a\n          // home in the final DOM tree. After everything is done we will remove any keyed nodes\n          // that didn't find a home\n          if (curFromNodeKey) {\n            // Since the node is keyed it might be matched up later so we defer\n            // the actual removal to later\n            addKeyedRemoval(curFromNodeKey);\n          } else {\n            // NOTE: we skip nested keyed nodes from being removed since there is\n            //       still a chance they will be matched up later\n            removeNode(curFromNodeChild, fromEl, true /* skip keyed nodes */);\n          }\n\n          curFromNodeChild = fromNextSibling;\n        } // END: while(curFromNodeChild) {}\n\n        // If we got this far then we did not find a candidate match for\n        // our \"to node\" and we exhausted all of the children \"from\"\n        // nodes. Therefore, we will just append the current \"to\" node\n        // to the end\n        if (curToNodeKey && (matchingFromEl = fromNodesLookup[curToNodeKey]) && compareNodeNames(matchingFromEl, curToNodeChild)) {\n          // MORPH\n          if(!skipFrom){ addChild(fromEl, matchingFromEl); }\n          morphEl(matchingFromEl, curToNodeChild);\n        } else {\n          var onBeforeNodeAddedResult = onBeforeNodeAdded(curToNodeChild);\n          if (onBeforeNodeAddedResult !== false) {\n            if (onBeforeNodeAddedResult) {\n              curToNodeChild = onBeforeNodeAddedResult;\n            }\n\n            if (curToNodeChild.actualize) {\n              curToNodeChild = curToNodeChild.actualize(fromEl.ownerDocument || doc);\n            }\n            addChild(fromEl, curToNodeChild);\n            handleNodeAdded(curToNodeChild);\n          }\n        }\n\n        curToNodeChild = toNextSibling;\n        curFromNodeChild = fromNextSibling;\n      }\n\n      cleanupFromEl(fromEl, curFromNodeChild, curFromNodeKey);\n\n      var specialElHandler = specialElHandlers[fromEl.nodeName];\n      if (specialElHandler) {\n        specialElHandler(fromEl, toEl);\n      }\n    } // END: morphChildren(...)\n\n    var morphedNode = fromNode;\n    var morphedNodeType = morphedNode.nodeType;\n    var toNodeType = toNode.nodeType;\n\n    if (!childrenOnly) {\n      // Handle the case where we are given two DOM nodes that are not\n      // compatible (e.g. <div> --> <span> or <div> --> TEXT)\n      if (morphedNodeType === ELEMENT_NODE) {\n        if (toNodeType === ELEMENT_NODE) {\n          if (!compareNodeNames(fromNode, toNode)) {\n            onNodeDiscarded(fromNode);\n            morphedNode = moveChildren(fromNode, createElementNS(toNode.nodeName, toNode.namespaceURI));\n          }\n        } else {\n          // Going from an element node to a text node\n          morphedNode = toNode;\n        }\n      } else if (morphedNodeType === TEXT_NODE || morphedNodeType === COMMENT_NODE) { // Text or comment node\n        if (toNodeType === morphedNodeType) {\n          if (morphedNode.nodeValue !== toNode.nodeValue) {\n            morphedNode.nodeValue = toNode.nodeValue;\n          }\n\n          return morphedNode;\n        } else {\n          // Text node to something else\n          morphedNode = toNode;\n        }\n      }\n    }\n\n    if (morphedNode === toNode) {\n      // The \"to node\" was not compatible with the \"from node\" so we had to\n      // toss out the \"from node\" and use the \"to node\"\n      onNodeDiscarded(fromNode);\n    } else {\n      if (toNode.isSameNode && toNode.isSameNode(morphedNode)) {\n        return;\n      }\n\n      morphEl(morphedNode, toNode, childrenOnly);\n\n      // We now need to loop over any keyed nodes that might need to be\n      // removed. We only do the removal if we know that the keyed node\n      // never found a match. When a keyed node is matched up we remove\n      // it out of fromNodesLookup and we use fromNodesLookup to determine\n      // if a keyed node has been matched up or not\n      if (keyedRemovalList) {\n        for (var i=0, len=keyedRemovalList.length; i<len; i++) {\n          var elToRemove = fromNodesLookup[keyedRemovalList[i]];\n          if (elToRemove) {\n            removeNode(elToRemove, elToRemove.parentNode, false);\n          }\n        }\n      }\n    }\n\n    if (!childrenOnly && morphedNode !== fromNode && fromNode.parentNode) {\n      if (morphedNode.actualize) {\n        morphedNode = morphedNode.actualize(fromNode.ownerDocument || doc);\n      }\n      // If we had to swap out the from node with a new node because the old\n      // node was not compatible with the target node then we need to\n      // replace the old DOM node in the original DOM tree. This is only\n      // possible if the original DOM node was part of a DOM tree which\n      // we know is the case if it has a parent node.\n      fromNode.parentNode.replaceChild(morphedNode, fromNode);\n    }\n\n    return morphedNode;\n  };\n}\n\nvar morphdom = morphdomFactory(morphAttrs);\n\nexport default morphdom;\n","import { ComponentObject, StateObject, StateValueType } from \"../types/StateObjectTypes\";\r\nimport { EventObject, EventPayload } from \"../types/RuntimeInterfaces\";\r\nimport { utf8ToBase64 } from \"../utils/baseConverter\";\r\nimport RuntimeManager from \"./RuntimeManager\";\r\nimport morphdom from \"morphdom\";\r\n\r\nexport default class AppManager {\r\n   /**\r\n    * Navigates to a given URL using PHPSPA's custom navigation logic.\r\n    * Fetches the content via a custom HTTP method, updates the DOM, manages browser history,\r\n    * emits lifecycle events, and executes inline scripts.\r\n    *\r\n    * @param url - The URL or path to navigate to.\r\n    * @param state Determines whether to push or replace the browser history state.\r\n    *\r\n    * @fires AppManager#beforeload - Emitted before loading the new route.\r\n    * @fires AppManager#load - Emitted after attempting to load the new route, with success or error status.\r\n    */\r\n   public static navigate(url: URL|string, state: 'push' | 'replace' = \"push\") {\r\n      const newUrl = url instanceof URL ? url : new URL(url, location.toString());\r\n\r\n      // --- Emit beforeload event for loading indicators ---\r\n      RuntimeManager.emit(\"beforeload\", { route: newUrl.toString() });\r\n\r\n      // --- Fetch content from the server with PhpSPA headers ---\r\n      fetch(newUrl, {\r\n         headers: {\r\n            \"X-Requested-With\": \"PHPSPA_REQUEST\",\r\n            \"X-Phpspa-Target\": \"navigate\",\r\n         },\r\n         mode: \"same-origin\",\r\n         redirect: \"follow\",\r\n         keepalive: true,\r\n      })\r\n         .then((response) => {\r\n            response\r\n               .text()\r\n               .then((responseText) => {\r\n                  let responseData;\r\n\r\n                  // --- Try to parse JSON response, fallback to raw text ---\r\n                  if (responseText && responseText.trim().startsWith(\"{\")) {\r\n                     try {\r\n                        responseData = JSON.parse(responseText);\r\n                     } catch (parseError) {\r\n                        responseData = responseText;\r\n                     }\r\n                  } else {\r\n                     responseData = responseText || \"\"; // --- Handle empty responses ---\r\n                  }\r\n\r\n                  processResponse(responseData);\r\n               })\r\n               .catch((error) => handleError(error));\r\n         })\r\n         .catch((error) => handleError(error));\r\n\r\n      /**\r\n       * Handles errors that occur during navigation requests\r\n       * @param {Error} error - The error object from the failed request\r\n       */\r\n      function handleError(error: any) {\r\n         // --- Check if the error has a response body (HTTP 4xx/5xx errors) ---\r\n         if (error.response) {\r\n            error.response\r\n               .text()\r\n               .then((fallbackResponse: any) => {\r\n                  let errorData;\r\n\r\n                  try {\r\n                     // --- Attempt to parse error response as JSON ---\r\n                     errorData = fallbackResponse?.trim().startsWith(\"{\")\r\n                        ? JSON.parse(fallbackResponse)\r\n                        : fallbackResponse;\r\n                  } catch (parseError) {\r\n                     // --- If parsing fails, use raw text ---\r\n                     errorData = fallbackResponse;\r\n                  }\r\n\r\n                  processResponse(errorData || \"\");\r\n\r\n                  RuntimeManager.emit(\"load\", {\r\n                     route: newUrl.toString(),\r\n                     success: false,\r\n                     error: error.message || \"Server returned an error\",\r\n                     data: errorData,\r\n                  });\r\n               })\r\n               .catch(() => {\r\n                  processResponse(\"\");\r\n\r\n                  // --- Failed to read error response body ---\r\n                  RuntimeManager.emit(\"load\", {\r\n                     route: newUrl.toString(),\r\n                     success: false,\r\n                     error: error.message || \"Failed to read error response\",\r\n                  });\r\n               });\r\n         } else {\r\n            processResponse(\"\");\r\n\r\n            // --- Network error, same-origin issue, or other connection problems ---\r\n            RuntimeManager.emit(\"load\", {\r\n               route: newUrl.toString(),\r\n               success: false,\r\n               error: error.message || \"No connection to server\",\r\n            });\r\n         }\r\n      }\r\n\r\n      /**\r\n       * Processes the server response and updates the DOM\r\n       */\r\n      function processResponse(responseData: ComponentObject|string) {\r\n         const component: ComponentObject = typeof responseData === 'string'\r\n            ? { content: responseData }\r\n            : responseData;\r\n\r\n         // --- Update document title if provided ---\r\n         if (component?.title && component.title.length > 0) {\r\n            document.title = component.title;\r\n         }\r\n\r\n         // --- Find target element for content replacement ---\r\n         const targetElement =\r\n            document.getElementById(component?.targetID) ??\r\n            document.getElementById(history.state?.targetID) ??\r\n            document.body;\r\n\r\n         if (component?.targetID) {\r\n            RuntimeManager.currentRoutes[component.targetID] = {\r\n               route: newUrl,\r\n               exact: component.exact ?? false,\r\n               defaultContent: RuntimeManager.currentRoutes[component.targetID]?.defaultContent ?? targetElement.innerHTML\r\n            }\r\n         }\r\n\r\n         const currentRoutes = RuntimeManager.currentRoutes;\r\n\r\n         for (const targetID in currentRoutes) {\r\n            if (!Object.hasOwn(currentRoutes, targetID)) continue;\r\n\r\n            const targetInfo = currentRoutes[targetID];\r\n\r\n            // --- If route is exact and the route target ID is not equal to the navigated route target ID ---\r\n            // --- Then the document URL has changed ---\r\n            // --- That is they are navigating away ---\r\n            // --- And any route with exact === true must go back to its default content ---\r\n            if (targetInfo.exact === true && targetID !== component?.targetID) {\r\n               let currentHTML = document.getElementById(targetID)\r\n               if (currentHTML) {\r\n                  try {\r\n                     morphdom(currentHTML, '<div>' + targetInfo.defaultContent + '</div>', {\r\n                        childrenOnly: true\r\n                     });\r\n                  } catch {\r\n                     currentHTML.innerHTML = targetInfo.defaultContent;\r\n                  }\r\n               }\r\n\r\n               delete currentRoutes[targetID];\r\n            }\r\n         }\r\n\r\n         // --- Update content ---\r\n         const updateDOM = () => {\r\n            try {\r\n               morphdom(targetElement, '<div>' + component.content + '</div>', {\r\n                  childrenOnly: true\r\n               });\r\n            } catch {\r\n               targetElement.innerHTML = component.content;\r\n            }\r\n         }\r\n\r\n\r\n         const stateData: StateObject = {\r\n            url: newUrl.toString(),\r\n            title: component?.title ?? document.title,\r\n            targetID: targetElement.id,\r\n            content: component.content,\r\n            exact: currentRoutes[component?.targetID]?.exact,\r\n            defaultContent: currentRoutes[component?.targetID]?.defaultContent,\r\n         }\r\n\r\n         // --- Include reload time if specified ---\r\n         if (component?.reloadTime) {\r\n            stateData.reloadTime = component.reloadTime;\r\n         }\r\n\r\n         const completedDOMUpdate = () => {\r\n\r\n            // --- Update browser history ---\r\n            if (state === \"push\") {\r\n               RuntimeManager.pushState(stateData, stateData.title, newUrl);\r\n            } else if (state === \"replace\") {\r\n               RuntimeManager.replaceState(stateData, stateData.title, newUrl);\r\n            }\r\n\r\n            // --- Handle URL fragments (hash navigation) ---\r\n            const hashElement = document.getElementById(newUrl.hash.substring(1));\r\n\r\n            if (hashElement) {\r\n               scroll({\r\n                  top: hashElement.offsetTop,\r\n                  left: hashElement.offsetLeft,\r\n               });\r\n            } else {\r\n               scroll(0, 0); // --- Scroll to top if no hash or element not found ---\r\n            }\r\n\r\n\r\n            // --- Clear old executed scripts cache ---\r\n            RuntimeManager.clearEffects();\r\n            RuntimeManager.clearExecutedScripts();\r\n\r\n            // --- Execute any inline scripts and styles in the new content ---\r\n            RuntimeManager.runAll();\r\n\r\n            // --- Emit successful load event ---\r\n            RuntimeManager.emit(\"load\", {\r\n               route: newUrl.toString(),\r\n               success: true,\r\n               error: false,\r\n            });\r\n\r\n            // --- Set up auto-reload if specified ---\r\n            if (component?.reloadTime) {\r\n               setTimeout(AppManager.reloadComponent, component.reloadTime);\r\n            }\r\n         }\r\n\r\n         if (document.startViewTransition) {\r\n            document.startViewTransition(updateDOM).finished.then(completedDOMUpdate).catch((reason) => {\r\n               RuntimeManager.emit('load', {\r\n                  route: newUrl.toString(),\r\n                  success: false,\r\n                  error: reason || 'Unknown error during view transition',\r\n               });\r\n            });\r\n         } else {\r\n            updateDOM();\r\n            completedDOMUpdate();\r\n         }\r\n      }\r\n   }\r\n\r\n   /**\r\n    * Navigates back in the browser history.\r\n    * Uses the native browser history API.\r\n    */\r\n   public static back() {\r\n      history.back();\r\n   }\r\n\r\n   /**\r\n    * Navigates forward in the browser's session history.\r\n    * Uses the native browser history API.\r\n    */\r\n   public static forward() {\r\n      history.forward();\r\n   }\r\n\r\n   /**\r\n    * Reloads the current page by navigating to the current URL using the \"replace\" history mode.\r\n    * This does not add a new entry to the browser's history stack.\r\n    */\r\n   public static reload() {\r\n      AppManager.navigate(location.toString(), \"replace\");\r\n   }\r\n\r\n   /**\r\n    * Registers a callback function to be executed when the specified event is triggered.\r\n    *\r\n    * @param event - The name of the event to listen for.\r\n    * @param callback - The function to call when the event is triggered.\r\n    */\r\n   public static on(event: keyof EventObject, callback: (payload: EventPayload) => void) {\r\n      if (!RuntimeManager.events[event]) {\r\n         RuntimeManager.events[event] = [];\r\n      }\r\n      RuntimeManager.events[event].push(callback);\r\n\r\n      const lastPayload = RuntimeManager.getLastEventPayload(event);\r\n      if (lastPayload) {\r\n         try {\r\n            callback(lastPayload);\r\n         } catch (error) {\r\n            console.error(`Error in ${event} event callback:`, error);\r\n         }\r\n      }\r\n   }\r\n\r\n   /**\r\n    * Registers a side effect to be executed after component updates.\r\n    * Alias for RuntimeManager.registerEffect.\r\n    * \r\n    * @param callback - The effect callback\r\n    * @param dependencies - Array of state keys to listen for\r\n    */\r\n   public static useEffect(callback: () => void | (() => void), dependencies: string[]|null = null) {\r\n      RuntimeManager.registerEffect(callback, dependencies);\r\n   }\r\n\r\n   /**\r\n    * Updates the application state by sending a custom fetch request and updating the DOM accordingly.\r\n    * Preserves the current scroll position during the update.\r\n    *\r\n    * @param key - The key representing the state to update.\r\n    * @param value - The new value to set for the specified state key.\r\n    * @returns A promise that resolves when the state is updated successfully.\r\n    *\r\n    * @example\r\n    * AppManager.setState('user', { name: 'Alice' })\r\n    *   .then(() => console.log('State updated!'))\r\n    *   .catch(err => console.error('Failed to update state:', err));\r\n    */\r\n   public static setState(key: string, value: StateValueType): Promise<void> {\r\n      return new Promise(async (resolve, reject) => {\r\n         const currentRoutes = RuntimeManager.currentRoutes;\r\n         const statePayload = JSON.stringify({ state: { key, value } });\r\n         const promises = [];\r\n\r\n         for (const targetID in currentRoutes) {\r\n            if (!Object.hasOwn(currentRoutes, targetID)) continue;\r\n\r\n            const { route } = currentRoutes[targetID];\r\n\r\n            const prom = fetch(route, {\r\n               headers: {\r\n                  \"X-Requested-With\": \"PHPSPA_REQUEST\",\r\n                  Authorization: `Bearer ${utf8ToBase64(statePayload)}`,\r\n               },\r\n               mode: \"same-origin\",\r\n               redirect: \"follow\",\r\n               keepalive: true,\r\n            });\r\n            promises.push(prom);\r\n         }\r\n\r\n         const responses = await Promise.all(promises);\r\n\r\n         responses.forEach(async (response) => {\r\n            try {\r\n               const responseText = await response.text();\r\n\r\n               let responseData;\r\n\r\n               // --- Parse response as JSON if possible ---\r\n               if (responseText && responseText.trim().startsWith(\"{\")) {\r\n                  try {\r\n                     responseData = JSON.parse(responseText);\r\n                  } catch (parseError) {\r\n                     responseData = responseText;\r\n                  }\r\n               } else {\r\n                  responseData = responseText || \"\";\r\n               }\r\n\r\n               resolve();\r\n               updateContent(responseData);\r\n            } catch (error) {\r\n               reject(error);\r\n               handleStateError(error);\r\n            }\r\n         });\r\n\r\n\r\n         /**\r\n          * Handles errors during state update requests\r\n          */\r\n         function handleStateError(error: any) {\r\n            if (error?.response) {\r\n               error.response\r\n                  .text()\r\n                  .then((fallbackResponse: any) => {\r\n                     let errorData;\r\n\r\n                     try {\r\n                        errorData = fallbackResponse?.trim().startsWith(\"{\")\r\n                           ? JSON.parse(fallbackResponse)\r\n                           : fallbackResponse;\r\n                     } catch (parseError) {\r\n                        errorData = fallbackResponse;\r\n                     }\r\n\r\n                     updateContent(errorData || \"\");\r\n                  })\r\n                  .catch(() => {\r\n                     updateContent(\"\");\r\n                  });\r\n            } else {\r\n               updateContent(\"\");\r\n            }\r\n         }\r\n\r\n         /**\r\n          * Updates the DOM content and restores scroll position\r\n          * @param {string|Object} responseData - The response data to process\r\n          */\r\n         function updateContent(responseData: ComponentObject|string) {\r\n         const component: ComponentObject = typeof responseData === 'string'\r\n            ? { content: responseData }\r\n            : responseData;\r\n   \r\n            // --- Update title if provided ---\r\n            if (component?.title && String(component.title).length > 0) {\r\n               document.title = component.title;\r\n            }\r\n\r\n            // --- Find target element and update content ---\r\n            const targetElement =\r\n               document.getElementById(component?.targetID) ??\r\n               document.getElementById(history.state?.targetID) ??\r\n               document.body;\r\n\r\n            const updateDOM = () => {\r\n               try {\r\n                  morphdom(targetElement, '<div>' + component.content + '</div>', {\r\n                     childrenOnly: true\r\n                  });\r\n               } catch {\r\n                  targetElement.innerHTML = component.content;\r\n               }\r\n            };\r\n\r\n            const completedDOMUpdate = () => {\r\n               // --- Trigger effects for the changed key ---\r\n               RuntimeManager.triggerEffects(key, value);\r\n            };\r\n\r\n            updateDOM();\r\n            completedDOMUpdate();\r\n         }\r\n      });\r\n   }\r\n\r\n   /**\r\n    * Reloads the current component content while preserving scroll position.\r\n    * Useful for refreshing dynamic content without full page navigation.\r\n    */\r\n   static reloadComponent() {\r\n\r\n      // --- Fetch current page content ---\r\n      fetch(location.toString(), {\r\n         headers: {\r\n            \"X-Requested-With\": \"PHPSPA_REQUEST\",\r\n         },\r\n         mode: \"same-origin\",\r\n         redirect: \"follow\",\r\n         keepalive: true,\r\n      })\r\n         .then((response) => {\r\n            response\r\n               .text()\r\n               .then((responseText) => {\r\n                  let responseData;\r\n\r\n                  // --- Parse response ---\r\n                  if (responseText && responseText.trim().startsWith(\"{\")) {\r\n                     try {\r\n                        responseData = JSON.parse(responseText);\r\n                     } catch (parseError) {\r\n                        responseData = responseText;\r\n                     }\r\n                  } else {\r\n                     responseData = responseText || \"\";\r\n                  }\r\n\r\n                  updateComponentContent(responseData);\r\n               })\r\n               .catch((error) => {\r\n                  handleComponentError(error);\r\n               });\r\n         })\r\n         .catch((error) => {\r\n            handleComponentError(error);\r\n         });\r\n\r\n      /**\r\n       * Handles errors during component reload\r\n       */\r\n      function handleComponentError(error: any) {\r\n         if (error?.response) {\r\n            error.response\r\n               .text()\r\n               .then((fallbackResponse: string) => {\r\n                  let errorData;\r\n\r\n                  try {\r\n                     errorData = fallbackResponse?.trim().startsWith(\"{\")\r\n                        ? JSON.parse(fallbackResponse)\r\n                        : fallbackResponse;\r\n                  } catch (parseError) {\r\n                     errorData = fallbackResponse;\r\n                  }\r\n\r\n                  updateComponentContent(errorData || \"\");\r\n               })\r\n               .catch(() => {\r\n                  updateComponentContent(\"\");\r\n               });\r\n         } else {\r\n            updateComponentContent(\"\");\r\n         }\r\n      }\r\n\r\n      /**\r\n       * Updates the component content and handles auto-reload\r\n       */\r\n      function updateComponentContent(responseData: ComponentObject|string) {\r\n         const component: ComponentObject = typeof responseData === 'string'\r\n            ? { content: responseData }\r\n            : responseData;\r\n\r\n         // --- Update title if provided ---\r\n         if (component?.title && String(component.title).length > 0) {\r\n            document.title = component.title;\r\n         }\r\n\r\n         // --- Find target and update content ---\r\n         const targetElement =\r\n            document.getElementById(component?.targetID) ??\r\n            document.getElementById(history.state?.targetID) ??\r\n            document.body;\r\n\r\n         const updateDOM = () => {\r\n            try {\r\n               morphdom(targetElement, '<div>' + component.content + '</div>', {\r\n                  childrenOnly: true\r\n               });\r\n            } catch {\r\n               targetElement.innerHTML = component.content;\r\n            }\r\n         };\r\n\r\n         const completedDOMUpdate = () => {\r\n            // --- Clear old executed scripts cache ---\r\n            RuntimeManager.clearEffects();\r\n            RuntimeManager.clearExecutedScripts();\r\n\r\n            // --- Execute any inline scripts and styles in the new content ---\r\n            RuntimeManager.runAll();\r\n\r\n            // --- Set up next auto-reload if specified ---\r\n            if (component?.reloadTime) {\r\n               setTimeout(AppManager.reloadComponent, component.reloadTime);\r\n            }\r\n         }\r\n\r\n         updateDOM();\r\n         completedDOMUpdate();\r\n      }\r\n   }\r\n\r\n   /**\r\n    * Makes an authenticated call to the server with a token and arguments.\r\n    * Used for server-side function calls from the client.\r\n    *\r\n    * @param token - The authentication token for the call\r\n    * @param args - Arguments to pass to the server function\r\n    * @returns The decoded response from the server\r\n    */\r\n   public static async __call(token: string, ...args: any[]): Promise<StateValueType> {\r\n      const callPayload = JSON.stringify({ __call: { token, args } });\r\n\r\n      try {\r\n         const response = await fetch(location.pathname, {\r\n            headers: {\r\n               \"X-Requested-With\": \"PHPSPA_REQUEST\",\r\n               Authorization: `Bearer ${utf8ToBase64(callPayload)}`,\r\n            },\r\n            mode: \"same-origin\",\r\n            redirect: \"follow\",\r\n            keepalive: true,\r\n         });\r\n\r\n         const responseText = await response.text();\r\n         let responseData;\r\n\r\n         // --- Parse and decode response ---\r\n         if (responseText && responseText.trim().startsWith(\"{\")) {\r\n            try {\r\n               responseData = JSON.parse(responseText);\r\n               responseData = responseData?.response\r\n                  ? JSON.parse(responseData.response)\r\n                  : responseData;\r\n            } catch (parseError) {\r\n               responseData = responseText;\r\n            }\r\n         } else {\r\n            responseData = responseText || \"\";\r\n         }\r\n\r\n         return responseData;\r\n      } catch (error: any) {\r\n         // --- Handle errors with response bodies ---\r\n         if (error?.response) {\r\n            try {\r\n               const fallbackResponse = await error.response.text();\r\n               let errorData;\r\n\r\n               try {\r\n                  errorData = fallbackResponse?.trim().startsWith(\"{\")\r\n                     ? JSON.parse(fallbackResponse)\r\n                     : fallbackResponse;\r\n\r\n                  errorData = errorData?.response\r\n                     ? JSON.parse(errorData.response)\r\n                     : errorData;\r\n               } catch (parseError) {\r\n                  errorData = fallbackResponse;\r\n               }\r\n\r\n               return errorData;\r\n            } catch {\r\n               return \"\";\r\n            }\r\n         } else {\r\n            // --- Network errors or other issues ---\r\n            return \"\";\r\n         }\r\n      }\r\n   }\r\n}","import AppManager from \"../core/AppManager\";\r\n\r\n/**\r\n * Intercepts clicks on Component.Link generated anchors and routes through AppManager\r\n */\r\nexport function setupLinkInterception() {\r\n   document.addEventListener(\"click\", (event) => {\r\n      if (event.defaultPrevented || event.button !== 0) return;\r\n      if (event.metaKey || event.ctrlKey || event.shiftKey || event.altKey) return;\r\n\r\n      const target = (event.target as HTMLElement)?.closest?.('a[data-type=\"phpspa-link-tag\"]');\r\n      if (!target) return;\r\n      if (target.hasAttribute('download')) return;\r\n      if (target.getAttribute('target') && target.getAttribute('target') !== '_self') return;\r\n\r\n      const href = target.getAttribute('href');\r\n      if (!href) return;\r\n\r\n      const url = new URL(href, location.toString());\r\n      if (url.origin !== location.origin) return; // --- external links fallback to default behaviour ---\r\n\r\n      event.preventDefault();\r\n      AppManager.navigate(url, 'push');\r\n   });\r\n}\r\n","import AppManager from \"../core/AppManager\";\r\nimport RuntimeManager from \"../core/RuntimeManager\";\r\nimport { StateObject } from \"../types/StateObjectTypes\";\r\nimport { base64ToUtf8 } from \"../utils/baseConverter\";\r\nimport { setupLinkInterception } from \"../utils/setupLinkInterception\";\r\n\r\n/**\r\n * Bootstraps PhpSPA runtime by caching current route info\r\n * and wiring up history/navigation handlers\r\n */\r\nexport function bootstrapPhpSPA() {\r\n   const targetElement = document.querySelector(\"[data-phpspa-target]\");\r\n   const targetElementInfo = document.querySelector(\"[phpspa-target-data]\");\r\n   const uri = location.toString();\r\n\r\n   RuntimeManager.emit('load', {\r\n      route: uri,\r\n      success: true,\r\n      error: false\r\n   });\r\n\r\n   if (targetElement) {\r\n      /**\r\n       *  Create initial state object with current page data\r\n       */\r\n      const initialState: StateObject = {\r\n         url: uri,\r\n         title: document.title,\r\n         targetID: targetElement.id,\r\n         content: targetElement.innerHTML,\r\n         root: true,\r\n      };\r\n\r\n      // --- Check if component has auto-reload functionality ---\r\n      if (targetElement.hasAttribute(\"phpspa-reload-time\")) {\r\n         initialState.reloadTime = Number(\r\n            targetElement.getAttribute(\"phpspa-reload-time\")\r\n         );\r\n      }\r\n\r\n      // --- Check if component has target info ---\r\n      if (targetElementInfo) {\r\n         const targetData = targetElementInfo.getAttribute(\"phpspa-target-data\");\r\n\r\n         // --- This is the json type coming from the server\r\n         type StateDataType = {\r\n            targetIDs: string[],\r\n            currentRoutes: string[],\r\n            defaultContent: string[],\r\n            exact: boolean[],\r\n         }\r\n\r\n         const targetDataInfo: StateDataType = JSON.parse(base64ToUtf8(targetData ?? ''));\r\n\r\n         targetDataInfo.targetIDs.forEach((targetID: string, index: number) => {\r\n            const exact = targetDataInfo.exact[index];\r\n            const defaultContent = targetDataInfo.defaultContent[index];\r\n\r\n            if (targetID === targetElement.id) {\r\n               initialState['exact'] = exact;\r\n               initialState['defaultContent'] = defaultContent;\r\n            }\r\n\r\n            RuntimeManager.currentRoutes[targetID] = {\r\n               route: new URL(targetDataInfo.currentRoutes[index], uri),\r\n               defaultContent,\r\n               exact\r\n            }\r\n         })\r\n      }\r\n\r\n      // --- Replace current history state with PhpSPA data ---\r\n      RuntimeManager.replaceState(\r\n         initialState,\r\n         document.title,\r\n         uri\r\n      );\r\n\r\n      // --- Set up auto-reload if specified ---\r\n      if (initialState.reloadTime) {\r\n         setTimeout(AppManager.reloadComponent, initialState.reloadTime);\r\n      }\r\n   }\r\n\r\n   setupLinkInterception();\r\n}\r\n","import AppManager from \"./core/AppManager\";\r\nimport RuntimeManager from \"./core/RuntimeManager\";\r\nimport { bootstrapPhpSPA } from \"./helpers/bootstrap\";\r\nimport type { StateObject } from \"./types/StateObjectTypes\";\r\nimport type { EventObject } from \"./types/RuntimeInterfaces\";\r\nimport morphdom from \"morphdom\";\r\n\r\ndeclare global {\r\n   export interface Window {\r\n      phpspa: typeof AppManager;\r\n      setState: typeof AppManager.setState;\r\n      useEffect: typeof AppManager.useEffect;\r\n      __call: typeof AppManager.__call;\r\n   }\r\n}\r\n\r\n/**\r\n * Ensure bootstrap runs even if script loads after DOMContentLoaded\r\n */\r\nconst readyStates = [\"interactive\", \"complete\"];\r\n\r\nif (document.readyState === \"loading\") {\r\n   window.addEventListener(\"DOMContentLoaded\", bootstrapPhpSPA, { once: true });\r\n} else if (readyStates.includes(document.readyState)) {\r\n   bootstrapPhpSPA();\r\n}\r\n\r\n\r\n/**\r\n * Handle browser back/forward button navigation\r\n * Restores page content when user navigates through browser history\r\n */\r\nwindow.addEventListener(\"popstate\", (event: PopStateEvent) => {\r\n   const navigationState: StateObject = event.state;\r\n\r\n   RuntimeManager.emit('beforeload', { route: location.toString() });\r\n\r\n   // --- Enable automatic scroll restoration ---\r\n   history.scrollRestoration = \"auto\";\r\n\r\n   // --- Check if we have valid PhpSPA state data ---\r\n   if (navigationState && navigationState.content) {\r\n      // --- Restore page title ---\r\n      document.title = navigationState.title ?? document.title;\r\n\r\n      // --- Find target container or fallback to body ---\r\n      const targetContainer =\r\n         document.getElementById(navigationState.targetID);\r\n\r\n      if (!targetContainer) {\r\n         location.reload();\r\n         return;\r\n      }\r\n\r\n      if (navigationState.targetID) {\r\n         RuntimeManager.currentRoutes[navigationState.targetID] = {\r\n            route: new URL(navigationState.url),\r\n            exact: navigationState.exact ?? false,\r\n            defaultContent: navigationState.defaultContent || ''\r\n         }\r\n      }\r\n\r\n      const currentRoutes = RuntimeManager.currentRoutes;\r\n\r\n      for (const targetID in currentRoutes) {\r\n         if (!Object.hasOwn(currentRoutes, targetID)) continue;\r\n\r\n         const targetInfo = currentRoutes[targetID];\r\n\r\n         // --- If route is exact and the route target ID is not equal to the navigated route target ID ---\r\n         // --- Then the document URL has changed ---\r\n         // --- That is they are navigating away ---\r\n         // --- And any route with exact === true must go back to its default content ---\r\n         if (targetInfo.exact === true && targetID !== navigationState.targetID) {\r\n            let currentHTML = document.getElementById(targetID)\r\n            if (currentHTML) {\r\n               try {\r\n                  morphdom(currentHTML, '<div>' + targetInfo.defaultContent + '</div>', {\r\n                     childrenOnly: true\r\n                  });\r\n               } catch {\r\n                  currentHTML.innerHTML = targetInfo.defaultContent;\r\n               }\r\n            }\r\n\r\n            delete currentRoutes[targetID];\r\n         }\r\n      }\r\n\r\n      // --- Decode and restore HTML content ---\r\n      const updateDOM = () => {\r\n         try {\r\n            morphdom(targetContainer, '<div>' + navigationState.content + '</div>', {\r\n               childrenOnly: true\r\n            });\r\n         } catch {\r\n            targetContainer.innerHTML = navigationState.content;\r\n         }\r\n      }\r\n\r\n      const completedDOMUpdate = () => {\r\n         // --- Clear old executed scripts cache ---\r\n         RuntimeManager.clearEffects();\r\n         RuntimeManager.clearExecutedScripts();\r\n\r\n         // --- Execute any inline scripts and styles in the restored content ---\r\n         RuntimeManager.runAll();\r\n\r\n         // --- Restart auto-reload timer if needed ---\r\n         if (navigationState?.reloadTime) {\r\n            setTimeout(AppManager.reloadComponent, navigationState.reloadTime);\r\n         }\r\n\r\n         RuntimeManager.emit('load', {\r\n            route: navigationState.url,\r\n            success: true,\r\n            error: false\r\n         });\r\n      }\r\n\r\n      if (document.startViewTransition) {\r\n         document.startViewTransition(updateDOM).finished.then(completedDOMUpdate).catch((reason) => {\r\n            RuntimeManager.emit('load', {\r\n               route: location.href,\r\n               success: false,\r\n               error: reason || 'Unknown error during view transition',\r\n            });\r\n         });\r\n      } else {\r\n         updateDOM();\r\n         completedDOMUpdate();\r\n      }\r\n\r\n   } else {\r\n      // --- No valid state found - reload current URL to refresh ---\r\n      location.reload();\r\n   }\r\n});\r\n\r\n\r\nif (typeof window !== \"undefined\") {\r\n   window.phpspa = AppManager;\r\n\r\n   if (window.setState !== AppManager.setState) {\r\n      window.setState = AppManager.setState;\r\n   }\r\n\r\n   if (window.__call !== AppManager.__call) {\r\n      window.__call = AppManager.__call;\r\n   }\r\n\r\n   if (window.useEffect !== AppManager.useEffect) {\r\n      window.useEffect = AppManager.useEffect;\r\n   }\r\n}\r\n\r\nexport const setState = AppManager.setState.bind(AppManager);\r\nexport const useEffect = AppManager.useEffect.bind(AppManager);\r\nexport const __call = AppManager.__call.bind(AppManager);\r\n\r\nexport type { EventObject, EventPayload } from \"./types/RuntimeInterfaces\";\r\nexport type { StateObject } from \"./types/StateObjectTypes\";\r\nexport type EventName = keyof EventObject;\r\nexport type PhpSPAInstance = typeof AppManager;\r\n\r\nexport default AppManager;\r\n"],"names":[],"mappings":"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","x_google_ignoreList":[2]}