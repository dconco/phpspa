/*!
 * PhpSPA Client Runtime v2.0.10
 * Docs: https://phpspa.tech | Package: @dconco/phpspa
 * License: MIT
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).phpspa={})}(this,function(e){"use strict";const t=()=>new Promise(e=>{requestAnimationFrame(()=>requestAnimationFrame(()=>e()))}),n=e=>new Promise(n=>{if(e.sheet)return void t().then(n);const r=()=>(e.removeEventListener("load",r),e.removeEventListener("error",r),void n());e.addEventListener("load",r,{once:!0}),e.addEventListener("error",r,{once:!0})}),r=new Map,a=new Map,o=new Map,i=e=>{const t=(e??"").trim();return t.length>0?t:"__phpspa_default__"},c=e=>{try{return new URL(e,location.toString()).href}catch{return e}},s=(e,t)=>{const n=a.get(t);if(n&&(n.delete(e),0===n.size)){a.delete(t);const e=o.get(t);e&&e.isConnected&&e.remove(),o.delete(t)}},l=(e,t)=>{const n=r.get(e)??new Set;for(const r of n)t.has(r)||s(e,r);for(const r of t)if(!n.has(r)){let t=a.get(r);t||(t=new Set,a.set(r,t)),t.add(e)}r.set(e,new Set(t))},d=e=>{const t=i(e);l(t,new Set)},u=async(e,r)=>{const a=i(r),s=document.createElement("div");s.innerHTML=e;const d=Array.from(s.querySelectorAll('link[rel="stylesheet"]'));if(0===d.length)return l(a,new Set),s;const u=Array.from(document.head.querySelectorAll('link[rel="stylesheet"]')),f=new Map;for(const e of d){const t=e.getAttribute("href");if(e.remove(),!t)continue;const n=c(t);f.has(n)||f.set(n,e)}l(a,new Set(f.keys()));const p=Array.from(f.entries()).map(([e,t])=>{const r=t.getAttribute("href")??e,i=o.get(e);let c=i&&i.isConnected?i:null;return c||(c=((e,t,n)=>{for(const r of n){try{if(r.href===e)return r}catch{}if(r.getAttribute("href")===t)return r}return null})(e,r,u)),c||(c=t.cloneNode(!0),c.setAttribute("data-phpspa-managed","1"),c.setAttribute("data-phpspa-scope",a),document.head.appendChild(c),u.push(c),o.set(e,c)),n(c)});return await Promise.all(p),await t(),s};function f(e){try{return btoa(e)}catch(t){try{const t=(new TextEncoder).encode(e),n=Array.from(t,e=>String.fromCharCode(e)).join("");return btoa(n)}catch(t){return btoa(e.split("").map(function(e){return String.fromCharCode(255&e.charCodeAt(0))}).join(""))}}}class p{static executedScripts=new Set;static executedStyles=new Set;static ScriptsCachedContent={};static currentRoutes={};static events={beforeload:[],load:[]};static currentStateData;static lastEventPayload={};static effects=new Set;static memoizedCallbacks=[];static registerEffect(e,t=null){const n=e(),r={callback:e,dependencies:t,cleanup:"function"==typeof n?n:null,lastDeps:t?p.resolveDependencies(t):null};p.effects.add(r)}static triggerEffects(e,t){p.effects.forEach(e=>{if(!e.dependencies||0===e.dependencies.length)return void p.invokeEffect(e,e.dependencies);const t=p.resolveDependencies(e.dependencies);e.lastDeps&&p.depsEqual(e.lastDeps,t)||p.invokeEffect(e,t)})}static clearEffects(){p.effects.forEach(e=>{e.cleanup&&e.cleanup()}),p.effects.clear()}static depsEqual(e,t){return e===t||!(!e||!t)&&(e.length===t.length&&e.every((e,n)=>Object.is(e,t[n])))}static registerCallback(e,t=[]){const n=p.resolveDependencies(t),r=p.memoizedCallbacks.find(e=>e.deps.length===t.length&&p.depsEqual(e.resolvedDeps,n));if(r)return r.callback;const a=e.bind(void 0);return p.memoizedCallbacks.push({deps:t.slice(),resolvedDeps:n,callback:a}),a}static resolveDependencies(e){return e.map(e=>p.resolveDependency(e))}static resolveDependency(e){return"string"==typeof e&&p.currentStateData&&Object.prototype.hasOwnProperty.call(p.currentStateData,e)?p.currentStateData[e]:e}static invokeEffect(e,t){e.cleanup&&e.cleanup();const n=e.callback();e.cleanup="function"==typeof n?n:null,e.lastDeps=t?t.slice():t}static runScripts(){for(const e in p.currentRoutes){const t=document.getElementById(e);t&&(this.runInlineScripts(t),this.runPhpSpaScripts(t))}}static runStyles(){for(const e in p.currentRoutes){const t=document.getElementById(e);t&&this.runInlineStyles(t)}}static runInlineScripts(e){const t=e.querySelectorAll("script"),n=document.head.getAttribute("x-phpspa");t.forEach(e=>{const t=f(e.textContent.trim());if(!this.executedScripts.has(t)&&""!==e.textContent.trim()){this.executedScripts.add(t);const r=document.createElement("script");r.nonce=n??void 0;for(const t of Array.from(e.attributes))r.setAttribute(t.name,t.value);r.textContent=`(()=>{\n${e.textContent}\n})()`,document.head.appendChild(r).remove()}})}static runPhpSpaScripts(e){const t=e.querySelectorAll('phpspa-script, script[data-type="phpspa/script"]'),n=document.head.getAttribute("x-phpspa");t.forEach(async e=>{const t=e.getAttribute("src")??"",r=e.getAttribute("type")??"";if(!this.executedScripts.has(t)){if(this.executedScripts.add(t),this.ScriptsCachedContent[t]){const e=document.createElement("script");return e.textContent=`(()=>{\n${this.ScriptsCachedContent[t]}\n})()`,e.nonce=n??void 0,e.type=r,void document.head.appendChild(e).remove()}const e=await fetch(t,{headers:{"X-Requested-With":"PHPSPA_REQUEST_SCRIPT"}});if(e.ok){const a=await e.text(),o=document.createElement("script");o.textContent=`(()=>{\n${a}\n})()`,o.nonce=n??void 0,o.type=r,document.head.appendChild(o).remove(),this.ScriptsCachedContent[t]=a}else console.error(`Failed to load script from ${t}: ${e.statusText}`)}})}static clearExecutedScripts(){p.executedScripts.clear()}static runInlineStyles(e){const t=e.querySelectorAll("style"),n=document.head.getAttribute("x-phpspa");t.forEach(e=>{const t=f(e.textContent.trim());if(!this.executedStyles.has(t)&&""!==e.textContent.trim()){this.executedStyles.add(t);const r=document.createElement("style");r.nonce=n??void 0;for(const t of Array.from(e.attributes))r.setAttribute(t.name,t.value);r.textContent=e.textContent,document.head.appendChild(r).remove()}})}static emit(e,t){const n=this.events[e]||[];this.lastEventPayload[e]=t;for(const r of n)if("function"==typeof r)try{r(t)}catch(t){console.error(`Error in ${e} event callback:`,t)}}static getLastEventPayload(e){return this.lastEventPayload[e]}static pushState(e,t,n){try{history.pushState(e,t,n)}catch(e){console.warn("Failed to push history state:",e instanceof Error?e.message:e)}}static replaceState(e,t,n){try{history.replaceState(e,t,n)}catch(e){console.warn("Failed to replace history state:",e instanceof Error?e.message:e)}}}var h;var m="undefined"==typeof document?void 0:document,g=!!m&&"content"in m.createElement("template"),y=!!m&&m.createRange&&"createContextualFragment"in m.createRange();function S(e){return e=e.trim(),g?function(e){var t=m.createElement("template");return t.innerHTML=e,t.content.childNodes[0]}(e):y?function(e){return h||(h=m.createRange()).selectNode(m.body),h.createContextualFragment(e).childNodes[0]}(e):function(e){var t=m.createElement("body");return t.innerHTML=e,t.childNodes[0]}(e)}function v(e,t){var n,r,a=e.nodeName,o=t.nodeName;return a===o||(n=a.charCodeAt(0),r=o.charCodeAt(0),n<=90&&r>=97?a===o.toUpperCase():r<=90&&n>=97&&o===a.toUpperCase())}function b(e,t,n){e[n]!==t[n]&&(e[n]=t[n],e[n]?e.setAttribute(n,""):e.removeAttribute(n))}var E={OPTION:function(e,t){var n=e.parentNode;if(n){var r=n.nodeName.toUpperCase();"OPTGROUP"===r&&(r=(n=n.parentNode)&&n.nodeName.toUpperCase()),"SELECT"!==r||n.hasAttribute("multiple")||(e.hasAttribute("selected")&&!t.selected&&(e.setAttribute("selected","selected"),e.removeAttribute("selected")),n.selectedIndex=-1)}b(e,t,"selected")},INPUT:function(e,t){b(e,t,"checked"),b(e,t,"disabled"),e.value!==t.value&&(e.value=t.value),t.hasAttribute("value")||e.removeAttribute("value")},TEXTAREA:function(e,t){var n=t.value;e.value!==n&&(e.value=n);var r=e.firstChild;if(r){var a=r.nodeValue;if(a==n||!n&&a==e.placeholder)return;r.nodeValue=n}},SELECT:function(e,t){if(!t.hasAttribute("multiple")){for(var n,r,a=-1,o=0,i=e.firstChild;i;)if("OPTGROUP"===(r=i.nodeName&&i.nodeName.toUpperCase()))(i=(n=i).firstChild)||(i=n.nextSibling,n=null);else{if("OPTION"===r){if(i.hasAttribute("selected")){a=o;break}o++}!(i=i.nextSibling)&&n&&(i=n.nextSibling,n=null)}e.selectedIndex=a}}};function C(){}function w(e){if(e)return e.getAttribute&&e.getAttribute("id")||e.id}var T=function(e){return function(t,n,r){if(r||(r={}),"string"==typeof n)if("#document"===t.nodeName||"HTML"===t.nodeName||"BODY"===t.nodeName){var a=n;(n=m.createElement("html")).innerHTML=a}else n=S(n);else 11===n.nodeType&&(n=n.firstElementChild);var o=r.getNodeKey||w,i=r.onBeforeNodeAdded||C,c=r.onNodeAdded||C,s=r.onBeforeElUpdated||C,l=r.onElUpdated||C,d=r.onBeforeNodeDiscarded||C,u=r.onNodeDiscarded||C,f=r.onBeforeElChildrenUpdated||C,p=r.skipFromChildren||C,h=r.addChild||function(e,t){return e.appendChild(t)},g=!0===r.childrenOnly,y=Object.create(null),b=[];function T(e){b.push(e)}function x(e,t){if(1===e.nodeType)for(var n=e.firstChild;n;){var r=void 0;t&&(r=o(n))?T(r):(u(n),n.firstChild&&x(n,t)),n=n.nextSibling}}function A(e,t,n){!1!==d(e)&&(t&&t.removeChild(e),u(e),x(e,n))}function D(e){if(1===e.nodeType||11===e.nodeType)for(var t=e.firstChild;t;){var n=o(t);n&&(y[n]=t),D(t),t=t.nextSibling}}function N(e){c(e);for(var t=e.firstChild;t;){var n=t.nextSibling,r=o(t);if(r){var a=y[r];a&&v(t,a)?(t.parentNode.replaceChild(a,t),I(a,t)):N(t)}else N(t);t=n}}function I(t,n,r){var a=o(n);if(a&&delete y[a],!r){var c=s(t,n);if(!1===c)return;if(c instanceof HTMLElement&&D(t=c),e(t,n),l(t),!1===f(t,n))return}"TEXTAREA"!==t.nodeName?function(e,t){var n,r,a,c,s,l=p(e,t),d=t.firstChild,u=e.firstChild;e:for(;d;){for(c=d.nextSibling,n=o(d);!l&&u;){if(a=u.nextSibling,d.isSameNode&&d.isSameNode(u)){d=c,u=a;continue e}r=o(u);var f=u.nodeType,g=void 0;if(f===d.nodeType&&(1===f?(n?n!==r&&((s=y[n])?a===s?g=!1:(e.insertBefore(s,u),r?T(r):A(u,e,!0),r=o(u=s)):g=!1):r&&(g=!1),(g=!1!==g&&v(u,d))&&I(u,d)):3!==f&&8!=f||(g=!0,u.nodeValue!==d.nodeValue&&(u.nodeValue=d.nodeValue))),g){d=c,u=a;continue e}r?T(r):A(u,e,!0),u=a}if(n&&(s=y[n])&&v(s,d))l||h(e,s),I(s,d);else{var S=i(d);!1!==S&&(S&&(d=S),d.actualize&&(d=d.actualize(e.ownerDocument||m)),h(e,d),N(d))}d=c,u=a}!function(e,t,n){for(;t;){var r=t.nextSibling;(n=o(t))?T(n):A(t,e,!0),t=r}}(e,u,r);var b=E[e.nodeName];b&&b(e,t)}(t,n):E.TEXTAREA(t,n)}D(t);var _,O,k=t,R=k.nodeType,P=n.nodeType;if(!g)if(1===R)1===P?v(t,n)||(u(t),k=function(e,t){for(var n=e.firstChild;n;){var r=n.nextSibling;t.appendChild(n),n=r}return t}(t,(_=n.nodeName,(O=n.namespaceURI)&&"http://www.w3.org/1999/xhtml"!==O?m.createElementNS(O,_):m.createElement(_)))):k=n;else if(3===R||8===R){if(P===R)return k.nodeValue!==n.nodeValue&&(k.nodeValue=n.nodeValue),k;k=n}if(k===n)u(t);else{if(n.isSameNode&&n.isSameNode(k))return;if(I(k,n,g),b)for(var L=0,U=b.length;L<U;L++){var M=y[b[L]];M&&A(M,M.parentNode,!1)}}return!g&&k!==t&&t.parentNode&&(k.actualize&&(k=k.actualize(t.ownerDocument||m)),t.parentNode.replaceChild(k,t)),k}}(function(e,t){var n,r,a,o,i=t.attributes;if(11!==t.nodeType&&11!==e.nodeType){for(var c=i.length-1;c>=0;c--)r=(n=i[c]).name,a=n.namespaceURI,o=n.value,a?(r=n.localName||r,e.getAttributeNS(a,r)!==o&&("xmlns"===n.prefix&&(r=n.name),e.setAttributeNS(a,r,o))):e.getAttribute(r)!==o&&e.setAttribute(r,o);for(var s=e.attributes,l=s.length-1;l>=0;l--)r=(n=s[l]).name,(a=n.namespaceURI)?(r=n.localName||r,t.hasAttributeNS(a,r)||e.removeAttributeNS(a,r)):t.hasAttribute(r)||e.removeAttribute(r)}});class x{static currentStateData={};static navigate(e,t="push"){const n=e instanceof URL?e:new URL(e,location.toString());function r(e){e.response?e.response.text().then(t=>{let r;try{r=t?.trim().startsWith("{")?JSON.parse(t):t}catch(e){r=t}a(r||""),p.emit("load",{route:n.toString(),success:!1,error:e.message||"Server returned an error",data:r})}).catch(()=>{a(""),p.emit("load",{route:n.toString(),success:!1,error:e.message||"Failed to read error response"})}):(a(""),p.emit("load",{route:n.toString(),success:!1,error:e.message||"No connection to server"}))}function a(e){const r="string"==typeof e?{content:e,stateData:{}}:e;p.currentStateData=r.stateData,r?.title&&r.title.length>0&&(document.title=r.title);const a=document.getElementById(r?.targetID)??document.getElementById(history.state?.targetID)??document.body;r?.targetID&&(p.currentRoutes[r.targetID]={route:n,exact:r.exact??!1,defaultContent:p.currentRoutes[r.targetID]?.defaultContent??a.innerHTML});const o=p.currentRoutes;for(const e in o){if(!Object.hasOwn(o,e))continue;const t=o[e];if(!0===t.exact&&e!==r?.targetID){let n=document.getElementById(e);if(n)try{T(n,"<div>"+t.defaultContent+"</div>",{childrenOnly:!0})}catch{n.innerHTML=t.defaultContent}d(e),delete o[e]}}let i=null;const c=async()=>{const e=r?.targetID||history.state?.targetID||a.id||"__phpspa_body__";if(i=await u(r.content,e),i)try{T(a,i,{childrenOnly:!0})}catch{a.innerHTML=i.innerHTML}p.runStyles()},s={url:n.toString(),title:r?.title??document.title,targetID:a.id,content:r.content,exact:o[r?.targetID]?.exact,defaultContent:o[r?.targetID]?.defaultContent};r?.reloadTime&&(s.reloadTime=r.reloadTime);const l=async()=>{"push"===t?p.pushState(s,s.title,n):"replace"===t&&p.replaceState(s,s.title,n),p.clearEffects(),p.clearExecutedScripts(),p.runScripts();const e=document.getElementById(n.hash.substring(1));e?scroll({top:e.offsetTop,left:e.offsetLeft}):scroll(0,0),p.emit("load",{route:n.toString(),success:!0,error:!1}),r?.reloadTime&&setTimeout(x.reloadComponent,r.reloadTime)};document.startViewTransition?document.startViewTransition(c).finished.then(l).catch(e=>{p.emit("load",{route:n.toString(),success:!1,error:e||"Unknown error during view transition"})}):c().then(l)}p.emit("beforeload",{route:n.toString()}),fetch(n,{headers:{"X-Requested-With":"PHPSPA_REQUEST","X-Phpspa-Target":"navigate"},mode:"same-origin",redirect:"follow",keepalive:!0}).then(e=>{e.text().then(e=>{let t;if(e&&e.trim().startsWith("{"))try{t=JSON.parse(e)}catch(n){t=e}else t=e||"";a(t)}).catch(e=>r(e))}).catch(e=>r(e))}static back(){history.back()}static forward(){history.forward()}static reload(){x.navigate(location.toString(),"replace")}static on(e,t){p.events[e]||(p.events[e]=[]),p.events[e].push(t);const n=p.getLastEventPayload(e);if(n)try{t(n)}catch(t){console.error(`Error in ${e} event callback:`,t)}}static useEffect(e,t=null){p.registerEffect(e,t)}static useCallback(e,t=[]){return p.registerCallback(e,t)}static setState(e,t){return"function"==typeof t&&(t=t(p.currentStateData[e])),new Promise(async(n,r)=>{const a=p.currentRoutes,o=JSON.stringify({state:{key:e,value:t}}),i=[];for(const e in a){if(!Object.hasOwn(a,e))continue;const{route:t}=a[e],n=fetch(t,{headers:{"X-Requested-With":"PHPSPA_REQUEST",Authorization:`Bearer ${f(o)}`},mode:"same-origin",redirect:"follow",keepalive:!0});i.push(n)}function c(n){const r="string"==typeof n?{content:n,stateData:{}}:n;p.currentStateData=r.stateData,r?.title&&String(r.title).length>0&&(document.title=r.title);const a=document.getElementById(r?.targetID)??document.getElementById(history.state?.targetID)??document.body;(()=>{try{T(a,"<div>"+r.content+"</div>",{childrenOnly:!0})}catch{a.innerHTML=r.content}})(),p.triggerEffects(e,t)}(await Promise.all(i)).forEach(async e=>{try{const t=await e.text();let r;if(t&&t.trim().startsWith("{"))try{r=JSON.parse(t)}catch(e){r=t}else r=t||"";n(),c(r)}catch(e){r(e),function(e){e?.response?e.response.text().then(e=>{let t;try{t=e?.trim().startsWith("{")?JSON.parse(e):e}catch(n){t=e}c(t||"")}).catch(()=>{c("")}):c("")}(e)}})})}static reloadComponent(){function e(e){e?.response?e.response.text().then(e=>{let n;try{n=e?.trim().startsWith("{")?JSON.parse(e):e}catch(t){n=e}t(n||"")}).catch(()=>{t("")}):t("")}function t(e){const t="string"==typeof e?{content:e,stateData:{}}:e;p.currentStateData=t.stateData,t?.title&&String(t.title).length>0&&(document.title=t.title);const n=document.getElementById(t?.targetID)??document.getElementById(history.state?.targetID)??document.body;(async()=>{const e=t?.targetID||history.state?.targetID||n.id||"__phpspa_body__",r=await u(t.content,e);try{T(n,r,{childrenOnly:!0})}catch{n.innerHTML=r.innerHTML}p.runStyles()})().then(()=>{p.clearEffects(),p.clearExecutedScripts(),p.runScripts(),t?.reloadTime&&setTimeout(x.reloadComponent,t.reloadTime)})}fetch(location.toString(),{headers:{"X-Requested-With":"PHPSPA_REQUEST"},mode:"same-origin",redirect:"follow",keepalive:!0}).then(n=>{n.text().then(e=>{let n;if(e&&e.trim().startsWith("{"))try{n=JSON.parse(e)}catch(t){n=e}else n=e||"";t(n)}).catch(t=>{e(t)})}).catch(t=>{e(t)})}static async __call(e,...t){const n=JSON.stringify({__call:{token:e,args:t}});try{const e=await fetch(location.pathname,{headers:{"X-Requested-With":"PHPSPA_REQUEST",Authorization:`Bearer ${f(n)}`},mode:"same-origin",redirect:"follow",keepalive:!0}),t=await e.text();let r;if(t&&t.trim().startsWith("{"))try{r=JSON.parse(t),r=r?.response?JSON.parse(r.response):r}catch(e){r=t}else r=t||"";return r}catch(e){if(!e?.response)return"";try{const t=await e.response.text();let n;try{n=t?.trim().startsWith("{")?JSON.parse(t):t,n=n?.response?JSON.parse(n.response):n}catch(e){n=t}return n}catch{return""}}}}function A(){const e=document.querySelector("[data-phpspa-target]"),t=document.querySelector("[phpspa-target-data]"),n=location.toString();if(p.emit("load",{route:n,success:!0,error:!1}),e){const r={url:n,title:document.title,targetID:e.id,content:e.innerHTML,root:!0};if(t){const a=t.getAttribute("phpspa-target-data"),o=JSON.parse(function(e){try{const t=atob(e),n=new Uint8Array(t.length);for(let e=0;e<t.length;e++)n[e]=t.charCodeAt(e);return(new TextDecoder).decode(n)}catch(t){return atob(e)}}(a??""));o.reloadTime&&(r.reloadTime=o.reloadTime),p.currentStateData=o.stateData,o.targetIDs.forEach((t,a)=>{const i=o.exact[a],c=o.defaultContent[a];t===e.id&&(r.exact=i,r.defaultContent=c),p.currentRoutes[t]={route:new URL(o.currentRoutes[a],n),defaultContent:c,exact:i}})}p.replaceState(r,document.title,n),r.reloadTime&&setTimeout(x.reloadComponent,r.reloadTime)}document.addEventListener("click",e=>{if(e.defaultPrevented||0!==e.button)return;if(e.metaKey||e.ctrlKey||e.shiftKey||e.altKey)return;const t=e.target?.closest?.('a[data-type="phpspa-link-tag"]');if(!t)return;if(t.hasAttribute("download"))return;if(t.getAttribute("target")&&"_self"!==t.getAttribute("target"))return;const n=t.getAttribute("href");if(!n)return;const r=new URL(n,location.toString());r.origin===location.origin&&(e.preventDefault(),x.navigate(r,"push"))})}class D extends x{}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",A,{once:!0}):["interactive","complete"].includes(document.readyState)&&A(),window.addEventListener("popstate",e=>{const t=e.state;if(p.emit("beforeload",{route:location.toString()}),history.scrollRestoration="auto",t&&t.content){document.title=t.title??document.title;const e=document.getElementById(t.targetID);if(!e)return void location.reload();t.targetID&&(p.currentRoutes[t.targetID]={route:new URL(t.url),exact:t.exact??!1,defaultContent:t.defaultContent||""});const n=p.currentRoutes;for(const e in n){if(!Object.hasOwn(n,e))continue;const r=n[e];if(!0===r.exact&&e!==t.targetID){let t=document.getElementById(e);if(t)try{T(t,"<div>"+r.defaultContent+"</div>",{childrenOnly:!0})}catch{t.innerHTML=r.defaultContent}d(e),delete n[e]}}const r=async()=>{const n=t.targetID||e.id||"__phpspa_body__",r=await u(t.content,n);try{T(e,r,{childrenOnly:!0})}catch{e.innerHTML=r.innerHTML}p.runStyles()},a=async()=>{p.clearEffects(),p.clearExecutedScripts(),p.runScripts(),t?.reloadTime&&setTimeout(x.reloadComponent,t.reloadTime),p.emit("load",{route:t.url,success:!0,error:!1})};document.startViewTransition?document.startViewTransition(r).finished.then(a).catch(e=>{p.emit("load",{route:location.href,success:!1,error:e||"Unknown error during view transition"})}):r().then(a)}else location.reload()}),"undefined"!=typeof window&&(window.phpspa=D,window.setState!==D.setState&&(window.setState=D.setState),window.__call!==D.__call&&(window.__call=D.__call),window.useEffect!==D.useEffect&&(window.useEffect=D.useEffect),window.useCallback!==D.useCallback&&(window.useCallback=D.useCallback));const N=D.setState.bind(D),I=D.useEffect.bind(D),_=D.useCallback.bind(D),O=D.__call.bind(D);e.__call=O,e.default=D,e.setState=N,e.useCallback=_,e.useEffect=I,Object.defineProperty(e,"__esModule",{value:!0})});
